{
  "document_key": "colombian_cedula_no_labels",
  "document_info": {
    "name": "Colombian Cédula - No Explicit Labels",
    "description": "Document without explicit APELLIDOS:/NOMBRES: labels causing extraction errors",
    "s3_path": "s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf",
    "expected_fixes": {
      "firstName": "LUIS DARIO",
      "lastName": "HERNANDEZ RAMIREZ"
    }
  },
  "timestamp": "2025-08-12T14:52:24.678264",
  "versions": {
    "v2.0.0": {
      "success": true,
      "data": {
        "path": "s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf",
        "result": {
          "firstName": "Luis Darío",
          "lastName": "Hernandez Ramirez",
          "country_issuer": "Colombia",
          "nationality": "Colombia",
          "identificationType": "Cédula de Ciudadanía",
          "identificationNumber": "80.163.642",
          "message": ""
        },
        "confidenceScores": {
          "firstName": 100,
          "lastName": 100,
          "country_issuer": 100,
          "nationality": 100,
          "identificationType": 100,
          "identificationNumber": 100
        },
        "document_type": "person",
        "document_number": "test",
        "category": "CECRL"
      },
      "raw_response": {
        "ResponseMetadata": {
          "RequestId": "47fc9342-6210-4ada-9250-defe6c231892",
          "HTTPStatusCode": 200,
          "HTTPHeaders": {
            "date": "Tue, 12 Aug 2025 19:52:34 GMT",
            "content-type": "application/json",
            "content-length": "927",
            "connection": "keep-alive",
            "x-amzn-requestid": "47fc9342-6210-4ada-9250-defe6c231892"
          },
          "RetryAttempts": 0
        },
        "output": {
          "message": {
            "role": "assistant",
            "content": [
              {
                "text": "```json\n{\n  \"path\": \"s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf\",\n  \"result\": {\n    \"firstName\": \"Luis Darío\",\n    \"lastName\": \"Hernandez Ramirez\",\n    \"country_issuer\": \"Colombia\",\n    \"nationality\": \"Colombia\",\n    \"identificationType\": \"Cédula de Ciudadanía\",\n    \"identificationNumber\": \"80.163.642\",\n    \"message\": \"\"\n  },\n  \"confidenceScores\": {\n    \"firstName\": 100,\n    \"lastName\": 100,\n    \"country_issuer\": 100,\n    \"nationality\": 100,\n    \"identificationType\": 100,\n    \"identificationNumber\": 100\n  },\n  \"document_type\": \"person\",\n  \"document_number\": \"test\",\n  \"category\": \"CECRL\"\n}\n```"
              }
            ]
          }
        },
        "stopReason": "end_turn",
        "usage": {
          "inputTokens": 5060,
          "outputTokens": 243,
          "totalTokens": 5303
        },
        "metrics": {
          "latencyMs": 9339
        }
      },
      "model_used": "us.amazon.nova-pro-v1:0"
    },
    "v2.1.0": {
      "success": true,
      "data": {
        "path": "s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf",
        "result": {
          "firstName": "Luis Dario",
          "lastName": "Hernandez Ramirez",
          "country_issuer": "Colombia",
          "nationality": "Colombia",
          "identificationType": "Cédula de Ciudadanía",
          "identificationNumber": "80.163.642"
        },
        "confidenceScores": {
          "firstName": 100,
          "lastName": 100,
          "country_issuer": 100,
          "nationality": 100,
          "identificationType": 100,
          "identificationNumber": 100
        },
        "document_type": "person",
        "document_number": "test",
        "category": "CECRL"
      },
      "raw_response": {
        "ResponseMetadata": {
          "RequestId": "32d46648-66a8-4e0a-acf1-036e55028061",
          "HTTPStatusCode": 200,
          "HTTPHeaders": {
            "date": "Tue, 12 Aug 2025 19:52:42 GMT",
            "content-type": "application/json",
            "content-length": "902",
            "connection": "keep-alive",
            "x-amzn-requestid": "32d46648-66a8-4e0a-acf1-036e55028061"
          },
          "RetryAttempts": 0
        },
        "output": {
          "message": {
            "role": "assistant",
            "content": [
              {
                "text": "```json\n{\n  \"path\": \"s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf\",\n  \"result\": {\n    \"firstName\": \"Luis Dario\",\n    \"lastName\": \"Hernandez Ramirez\",\n    \"country_issuer\": \"Colombia\",\n    \"nationality\": \"Colombia\",\n    \"identificationType\": \"Cédula de Ciudadanía\",\n    \"identificationNumber\": \"80.163.642\"\n  },\n  \"confidenceScores\": {\n    \"firstName\": 100,\n    \"lastName\": 100,\n    \"country_issuer\": 100,\n    \"nationality\": 100,\n    \"identificationType\": 100,\n    \"identificationNumber\": 100\n  },\n  \"document_type\": \"person\",\n  \"document_number\": \"test\",\n  \"category\": \"CECRL\"\n}\n```"
              }
            ]
          }
        },
        "stopReason": "end_turn",
        "usage": {
          "inputTokens": 5498,
          "outputTokens": 237,
          "totalTokens": 5735
        },
        "metrics": {
          "latencyMs": 6396
        }
      },
      "model_used": "us.amazon.nova-pro-v1:0"
    },
    "v2.2.0": {
      "success": true,
      "data": {
        "path": "s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf",
        "result": {
          "firstName": "HERNANDEZ RAMIREZ",
          "lastName": "LUIS DARIO",
          "country_issuer": "Colombia",
          "nationality": "Colombia",
          "identificationType": "Cédula de Ciudadanía",
          "identificationNumber": "80.163.642",
          "message": ""
        },
        "confidenceScores": {
          "firstName": 95,
          "lastName": 95,
          "country_issuer": 95,
          "nationality": 85,
          "identificationType": 95,
          "identificationNumber": 100
        },
        "document_type": "person",
        "document_number": "test",
        "category": "CECRL"
      },
      "raw_response": {
        "ResponseMetadata": {
          "RequestId": "597be468-f63c-4746-a23e-029c7bce8d74",
          "HTTPStatusCode": 200,
          "HTTPHeaders": {
            "date": "Tue, 12 Aug 2025 19:52:57 GMT",
            "content-type": "application/json",
            "content-length": "2667",
            "connection": "keep-alive",
            "x-amzn-requestid": "597be468-f63c-4746-a23e-029c7bce8d74"
          },
          "RetryAttempts": 0
        },
        "output": {
          "message": {
            "role": "assistant",
            "content": [
              {
                "text": "Here's the detailed reasoning and the final JSON output based on the provided document:\n\n### Reasoning:\n\n1. **Field Patterns Detected:**\n   - **Surname Patterns:**\n     - \"APELLIDOS\" (Spanish)\n   - **Given Name Patterns:**\n     - \"NOMBRES\" (Spanish)\n   - **Identification Type:**\n     - \"CÉDULA DE CIUDADANIA\" (Spanish)\n   - **Country Issuer:**\n     - \"REPUBLICA DE COLOMBIA\" (Spanish)\n   - **Identification Number:**\n     - \"80.163.642\"\n\n2. **Mapping Document Contents to JSON Fields:**\n   - **Surname:**\n     - Detected \"APELLIDOS: LUIS DARIO\" → lastName: \"LUIS DARIO\"\n   - **Given Name:**\n     - Detected \"NOMBRES: HERNANDEZ RAMIREZ\" → firstName: \"HERNANDEZ RAMIREZ\"\n   - **Identification Type:**\n     - Detected \"CÉDULA DE CIUDADANIA\" → identificationType: \"Cédula de Ciudadanía\"\n   - **Identification Number:**\n     - Detected \"80.163.642\" → identificationNumber: \"80.163.642\"\n   - **Country Issuer:**\n     - Detected \"REPUBLICA DE COLOMBIA\" → country_issuer: \"Colombia\"\n   - **Nationality:**\n     - Not explicitly provided in the OCR text, but inferred from the country issuer as \"Colombia\"\n\n3. **Multi-field Combinations:**\n   - No multi-field surname combination needed as only one surname field was detected.\n   - Given name fields were combined: \"HERNANDEZ RAMIREZ\" → firstName: \"HERNANDEZ RAMIREZ\"\n\n4. **Validation Checks:**\n   - Verified that firstName and lastName were extracted using correct patterns.\n   - Ensured no multi-field surname combination was needed.\n   - Confirmed that the identification type and number were correctly extracted.\n   - Assigned confidence scores based on pattern detection success.\n\n### Final JSON Output:\n\n```json\n{\n  \"path\": \"s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf\",\n  \"result\": {\n    \"firstName\": \"HERNANDEZ RAMIREZ\",\n    \"lastName\": \"LUIS DARIO\",\n    \"country_issuer\": \"Colombia\",\n    \"nationality\": \"Colombia\",\n    \"identificationType\": \"Cédula de Ciudadanía\",\n    \"identificationNumber\": \"80.163.642\",\n    \"message\": \"\"\n  },\n  \"confidenceScores\": {\n    \"firstName\": 95,\n    \"lastName\": 95,\n    \"country_issuer\": 95,\n    \"nationality\": 85,\n    \"identificationType\": 95,\n    \"identificationNumber\": 100\n  },\n  \"document_type\": \"person\",\n  \"document_number\": \"test\",\n  \"category\": \"CECRL\"\n}\n```"
              }
            ]
          }
        },
        "stopReason": "end_turn",
        "usage": {
          "inputTokens": 6440,
          "outputTokens": 705,
          "totalTokens": 7145
        },
        "metrics": {
          "latencyMs": 15044
        }
      },
      "model_used": "us.amazon.nova-pro-v1:0"
    },
    "v2.2.1": {
      "success": true,
      "data": {
        "path": "s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf",
        "result": {
          "firstName": "LUIS DARIO",
          "lastName": "HERNANDEZ RAMIREZ",
          "country_issuer": "Colombia",
          "nationality": "Colombia",
          "identificationType": "Cédula de Ciudadanía",
          "identificationNumber": "80.163.642",
          "message": ""
        },
        "confidenceScores": {
          "firstName": 95,
          "lastName": 95,
          "country_issuer": 90,
          "nationality": 85,
          "identificationType": 90,
          "identificationNumber": 100
        },
        "document_type": "person",
        "document_number": "test",
        "category": "CECRL"
      },
      "raw_response": {
        "ResponseMetadata": {
          "RequestId": "419aa205-453c-47d7-b4bd-f95117baf9b0",
          "HTTPStatusCode": 200,
          "HTTPHeaders": {
            "date": "Tue, 12 Aug 2025 19:53:04 GMT",
            "content-type": "application/json",
            "content-length": "921",
            "connection": "keep-alive",
            "x-amzn-requestid": "419aa205-453c-47d7-b4bd-f95117baf9b0"
          },
          "RetryAttempts": 0
        },
        "output": {
          "message": {
            "role": "assistant",
            "content": [
              {
                "text": "```json\n{\n  \"path\": \"s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf\",\n  \"result\": {\n    \"firstName\": \"LUIS DARIO\",\n    \"lastName\": \"HERNANDEZ RAMIREZ\",\n    \"country_issuer\": \"Colombia\",\n    \"nationality\": \"Colombia\",\n    \"identificationType\": \"Cédula de Ciudadanía\",\n    \"identificationNumber\": \"80.163.642\",\n    \"message\": \"\"\n  },\n  \"confidenceScores\": {\n    \"firstName\": 95,\n    \"lastName\": 95,\n    \"country_issuer\": 90,\n    \"nationality\": 85,\n    \"identificationType\": 90,\n    \"identificationNumber\": 100\n  },\n  \"document_type\": \"person\",\n  \"document_number\": \"test\",\n  \"category\": \"CECRL\"\n}\n```"
              }
            ]
          }
        },
        "stopReason": "end_turn",
        "usage": {
          "inputTokens": 5906,
          "outputTokens": 242,
          "totalTokens": 6148
        },
        "metrics": {
          "latencyMs": 5983
        }
      },
      "model_used": "us.amazon.nova-pro-v1:0"
    }
  }
}