{
  "document_key": "colombian_cedula_no_labels",
  "document_info": {
    "name": "Colombian Cédula - No Explicit Labels",
    "description": "Document without explicit APELLIDOS:/NOMBRES: labels causing extraction errors",
    "s3_path": "s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf",
    "expected_fixes": {
      "firstName": "LUIS DARIO",
      "lastName": "HERNANDEZ RAMIREZ"
    }
  },
  "timestamp": "2025-08-15T10:16:07.979898",
  "versions": {
    "v2.0.0": {
      "success": true,
      "data": {
        "path": "s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf",
        "result": {
          "firstName": "Luis Darío",
          "lastName": "Hernandez Ramirez",
          "country_issuer": "Colombia",
          "nationality": "Colombia",
          "identificationType": "Cédula de Ciudadanía",
          "identificationNumber": "80.163.642"
        },
        "confidenceScores": {
          "firstName": 100,
          "lastName": 100,
          "country_issuer": 100,
          "nationality": 100,
          "identificationType": 100,
          "identificationNumber": 100
        },
        "document_type": "person",
        "document_number": "test",
        "category": "CECRL"
      },
      "raw_response": {
        "ResponseMetadata": {
          "RequestId": "6190ab35-0961-4ade-ab72-04c78c7d2e70",
          "HTTPStatusCode": 200,
          "HTTPHeaders": {
            "date": "Fri, 15 Aug 2025 15:16:14 GMT",
            "content-type": "application/json",
            "content-length": "903",
            "connection": "keep-alive",
            "x-amzn-requestid": "6190ab35-0961-4ade-ab72-04c78c7d2e70"
          },
          "RetryAttempts": 0
        },
        "output": {
          "message": {
            "role": "assistant",
            "content": [
              {
                "text": "```json\n{\n  \"path\": \"s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf\",\n  \"result\": {\n    \"firstName\": \"Luis Darío\",\n    \"lastName\": \"Hernandez Ramirez\",\n    \"country_issuer\": \"Colombia\",\n    \"nationality\": \"Colombia\",\n    \"identificationType\": \"Cédula de Ciudadanía\",\n    \"identificationNumber\": \"80.163.642\"\n  },\n  \"confidenceScores\": {\n    \"firstName\": 100,\n    \"lastName\": 100,\n    \"country_issuer\": 100,\n    \"nationality\": 100,\n    \"identificationType\": 100,\n    \"identificationNumber\": 100\n  },\n  \"document_type\": \"person\",\n  \"document_number\": \"test\",\n  \"category\": \"CECRL\"\n}\n```"
              }
            ]
          }
        },
        "stopReason": "end_turn",
        "usage": {
          "inputTokens": 5060,
          "outputTokens": 238,
          "totalTokens": 5298
        },
        "metrics": {
          "latencyMs": 5239
        }
      },
      "model_used": "us.amazon.nova-pro-v1:0"
    },
    "v2.1.0": {
      "success": true,
      "data": {
        "path": "s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf",
        "result": {
          "firstName": "Luis Dario",
          "lastName": "Hernandez Ramirez",
          "country_issuer": "Colombia",
          "nationality": "Colombia",
          "identificationType": "Cédula de Ciudadanía",
          "identificationNumber": "80.163.642"
        },
        "confidenceScores": {
          "firstName": 95,
          "lastName": 95,
          "country_issuer": 100,
          "nationality": 100,
          "identificationType": 100,
          "identificationNumber": 100
        },
        "document_type": "person",
        "document_number": "test",
        "category": "CECRL"
      },
      "raw_response": {
        "ResponseMetadata": {
          "RequestId": "f0c50797-d450-426e-9b1c-77f218ebd1ea",
          "HTTPStatusCode": 200,
          "HTTPHeaders": {
            "date": "Fri, 15 Aug 2025 15:16:23 GMT",
            "content-type": "application/json",
            "content-length": "900",
            "connection": "keep-alive",
            "x-amzn-requestid": "f0c50797-d450-426e-9b1c-77f218ebd1ea"
          },
          "RetryAttempts": 0
        },
        "output": {
          "message": {
            "role": "assistant",
            "content": [
              {
                "text": "```json\n{\n  \"path\": \"s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf\",\n  \"result\": {\n    \"firstName\": \"Luis Dario\",\n    \"lastName\": \"Hernandez Ramirez\",\n    \"country_issuer\": \"Colombia\",\n    \"nationality\": \"Colombia\",\n    \"identificationType\": \"Cédula de Ciudadanía\",\n    \"identificationNumber\": \"80.163.642\"\n  },\n  \"confidenceScores\": {\n    \"firstName\": 95,\n    \"lastName\": 95,\n    \"country_issuer\": 100,\n    \"nationality\": 100,\n    \"identificationType\": 100,\n    \"identificationNumber\": 100\n  },\n  \"document_type\": \"person\",\n  \"document_number\": \"test\",\n  \"category\": \"CECRL\"\n}\n```"
              }
            ]
          }
        },
        "stopReason": "end_turn",
        "usage": {
          "inputTokens": 5498,
          "outputTokens": 235,
          "totalTokens": 5733
        },
        "metrics": {
          "latencyMs": 8240
        }
      },
      "model_used": "us.amazon.nova-pro-v1:0"
    },
    "v2.2.0": {
      "success": true,
      "data": {
        "path": "s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf",
        "result": {
          "firstName": "HERNANDEZ RAMIREZ",
          "lastName": "LUIS DARIO",
          "country_issuer": "Colombia",
          "nationality": "Colombia",
          "identificationType": "Cédula de Ciudadanía",
          "identificationNumber": "80.163.642"
        },
        "confidenceScores": {
          "firstName": 95,
          "lastName": 95,
          "country_issuer": 95,
          "nationality": 90,
          "identificationType": 95,
          "identificationNumber": 100
        },
        "document_type": "person",
        "document_number": "test",
        "category": "CECRL"
      },
      "raw_response": {
        "ResponseMetadata": {
          "RequestId": "f55533e9-456e-4f50-b075-e3c9f1608d01",
          "HTTPStatusCode": 200,
          "HTTPHeaders": {
            "date": "Fri, 15 Aug 2025 15:16:34 GMT",
            "content-type": "application/json",
            "content-length": "2361",
            "connection": "keep-alive",
            "x-amzn-requestid": "f55533e9-456e-4f50-b075-e3c9f1608d01"
          },
          "RetryAttempts": 0
        },
        "output": {
          "message": {
            "role": "assistant",
            "content": [
              {
                "text": "Here is the detailed reasoning and the final JSON output based on the provided document:\n\n### Reasoning:\n\n1. **Surname Detection:**\n   - The document contains the field \"APELLIDOS: LUIS DARIO\". \n   - This matches the Spanish pattern for a single surname field containing \"APELLIDO\".\n   - Extracted surname: \"LUIS DARIO\".\n\n2. **Given Name Detection:**\n   - The document contains the field \"NOMBRES: HERNANDEZ RAMIREZ\".\n   - This matches the Spanish pattern for given names containing \"NOMBRE\".\n   - Extracted given name: \"HERNANDEZ RAMIREZ\".\n\n3. **Document Type Translation:**\n   - The document type is \"CÉDULA DE CIUDADANÍA\", which is already in Spanish.\n   - Extracted identification type: \"Cédula de Ciudadanía\".\n\n4. **Country Field Extraction:**\n   - The country issuer is \"COLOMBIA\" as indicated on the document.\n   - The nationality is also \"COLOMBIA\" since the place of birth is not specified differently.\n   - Extracted country_issuer: \"Colombia\".\n   - Extracted nationality: \"Colombia\".\n\n5. **Identification Number:**\n   - The identification number is \"80.163.642\" as indicated on the document.\n   - Extracted identification number: \"80.163.642\".\n\n6. **Validation and Confidence Scoring:**\n   - The extraction is based on clear field labels and successful pattern matching.\n   - Confidence scores are assigned based on the clarity and success of pattern detection.\n\n### Final JSON Output:\n\n```json\n{\n  \"path\": \"s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf\",\n  \"result\": {\n    \"firstName\": \"HERNANDEZ RAMIREZ\",\n    \"lastName\": \"LUIS DARIO\",\n    \"country_issuer\": \"Colombia\",\n    \"nationality\": \"Colombia\",\n    \"identificationType\": \"Cédula de Ciudadanía\",\n    \"identificationNumber\": \"80.163.642\"\n  },\n  \"confidenceScores\": {\n    \"firstName\": 95,\n    \"lastName\": 95,\n    \"country_issuer\": 95,\n    \"nationality\": 90,\n    \"identificationType\": 95,\n    \"identificationNumber\": 100\n  },\n  \"document_type\": \"person\",\n  \"document_number\": \"test\",\n  \"category\": \"CECRL\"\n}\n```"
              }
            ]
          }
        },
        "stopReason": "end_turn",
        "usage": {
          "inputTokens": 6440,
          "outputTokens": 579,
          "totalTokens": 7019
        },
        "metrics": {
          "latencyMs": 9624
        }
      },
      "model_used": "us.amazon.nova-pro-v1:0"
    },
    "v2.2.1": {
      "success": true,
      "data": {
        "path": "s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf",
        "result": {
          "firstName": "LUIS DARIO",
          "lastName": "HERNANDEZ RAMIREZ",
          "country_issuer": "Colombia",
          "nationality": "Colombia",
          "identificationType": "Cédula de Ciudadanía",
          "identificationNumber": "80.163.642"
        },
        "confidenceScores": {
          "firstName": 95,
          "lastName": 95,
          "country_issuer": 90,
          "nationality": 85,
          "identificationType": 90,
          "identificationNumber": 100
        },
        "document_type": "person",
        "document_number": "test",
        "category": "CECRL"
      },
      "raw_response": {
        "ResponseMetadata": {
          "RequestId": "cd6fd8fa-4ef5-4848-abc6-b1e115b1dc3d",
          "HTTPStatusCode": 200,
          "HTTPHeaders": {
            "date": "Fri, 15 Aug 2025 15:16:44 GMT",
            "content-type": "application/json",
            "content-length": "897",
            "connection": "keep-alive",
            "x-amzn-requestid": "cd6fd8fa-4ef5-4848-abc6-b1e115b1dc3d"
          },
          "RetryAttempts": 0
        },
        "output": {
          "message": {
            "role": "assistant",
            "content": [
              {
                "text": "```json\n{\n  \"path\": \"s3://par-servicios-poc-qa-filling-desk/par-servicios-poc/CECRL/900397317/80163642_2020-02-29.pdf\",\n  \"result\": {\n    \"firstName\": \"LUIS DARIO\",\n    \"lastName\": \"HERNANDEZ RAMIREZ\",\n    \"country_issuer\": \"Colombia\",\n    \"nationality\": \"Colombia\",\n    \"identificationType\": \"Cédula de Ciudadanía\",\n    \"identificationNumber\": \"80.163.642\"\n  },\n  \"confidenceScores\": {\n    \"firstName\": 95,\n    \"lastName\": 95,\n    \"country_issuer\": 90,\n    \"nationality\": 85,\n    \"identificationType\": 90,\n    \"identificationNumber\": 100\n  },\n  \"document_type\": \"person\",\n  \"document_number\": \"test\",\n  \"category\": \"CECRL\"\n}\n```"
              }
            ]
          }
        },
        "stopReason": "end_turn",
        "usage": {
          "inputTokens": 5906,
          "outputTokens": 237,
          "totalTokens": 6143
        },
        "metrics": {
          "latencyMs": 8884
        }
      },
      "model_used": "us.amazon.nova-pro-v1:0"
    }
  }
}